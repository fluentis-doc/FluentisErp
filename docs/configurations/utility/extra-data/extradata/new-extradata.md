---
title: New Extra Data
sidebar_position: 1
---

Go to **Home > Utilities > ExtraData > ExtraData** and click the **New** button.

:::note The information required to create new ExtraData varies based on the type of ExtraData selected:   
1. **Simple ExtraData**
2. **Object-based ExtraData**
3. **Datasource-based ExtraData**
:::

### **1. Simple ExtraData**

Through simple ExtraData, it is possible to add new simple properties to an existing Fluentis object.  
The simple properties that can be added are of various types:  

- **Booleans**.
- **Stringss**.
- **Integers**, **decimals**.
- **Arrays**.

#### 1.1 Header 

In this case, we proceed to create a **simple** ExtraData of type string named **Model**.

#### Specific fields  
- **Code**: which identifies the extradata.
- **Content Type**: will be simple type.
- **Widget Type**: defines the display and selection modes for Object and Datasource types. For the Simple type, it should be left empty because the loaded widget will be the default widget of the framework associated with the data type.
- **Name**: must be a word present in the dictionary; otherwise, we must add it.  
- **Data Type**: this is the type of data.
- **Stereotype**: additional options for field formatting, such as multiline text or defining the number of decimals.
- **Description**: it is mandatory - a description that will be displayed, just like the Name is selectable from the dictionary.
- **Validity Start/End**: if we want to give the extradata a temporary validity.
- **View right / Modify right**: to associate a specific right that allows viewing or modifying the extradata.

The **stereotype** can be activated for the **Data Type**: Date (DateTime and Time); Decimal (Currency and Numeric); Double, Float, and Long (Numeric); Int (Color, Numeric, and Year); Short (Numeric and Year); String (MultiLine).

The stereotype can be activated for all activated objects and for individual objects. 

#### 1.2 Activations

The **Activations** tab refers to the **parent objects** of Fluentis to which the ExtraData is attached.  
Each ExtraData can have many parent objects.

The activation grid allows defining the classes on which the ExtraData will be available.  

#### Specific fields  
- **Parent Object**: is the object to which the ExtraData is linked, in our case FSItem. Each ExtraData can be associated with multiple objects.  
- **Property**: this is the property of the parent object in which the ExtraData will be loaded. In this case, the ExtraData property is present on the FSItem object, generated by the reference linking FSItem to FSItemExtraData.  
- **Required**: indicates if the ExtraData is mandatory for the object to which it is associated.
- **To Print**: indicates if the ExtraData should be available for printing.
- **Ordering**: this is the ordering of the parent object; it has no impact on functionality and is usually left at 0.
- **Start valid** / **End validity**: if the validity is temporary, it indicates the start and end of the period during which the ExtraData can be used.  
- **Stereotype**: the field formatting changes depending on the data type. It would overwrite the general stereotype defined for the extradata if a specific behavior for a particular object different from the default were to be enforced.

### Inserting the ExtraData into the detail form

One of the primary innovations introduced starting from Fluentis2021 concerns the ability to directly include the widget that will load the contents of the ExtraData into the detail form.  
In this case, since the ExtraData is simple, the default widget of the framework associated with the data type will be loaded.  

To include the ExtraData in the detail form of the article (FSItem), we can use the **form navigator** and **the object navigator**.  
1. From the **Object Navigator**, expand the ExtraData node related to the business object and select the ExtraData we are interested in.
2. From the **Form Navigator**, expand the navigator until the General tab where we want to insert the ExtraData.  

To display the ExtraData in the detail form of the article, it is sufficient to drag and drop from the Object Navigator to the Form Navigator.  
To make the **display persistent** in the detail form of the article, it is enough to create a specific profile and load it whenever there is a need to display the ExtraData.  
Finally, still in the detail form of the article, there is a specific tab called **Extra Data** where we can find each ExtraData associated with the article.  

### **2. Object-based ExtraData**

Through object-based ExtraData, it is possible to link a property represented by a **standard** or **custom** object to a **Fluentis** object.   
*To better explain this concept, we will use a practical example where we link the object **FSColor**, which represents a set of **colors**, with the standard Fluentis object **FSItem**.* 

#### 2.1 Header

We proceed to create the **ExtraData** based on the object **FSColor** called **Color**.

- **Code :** mandatory - code.
- **Content Type:** mandatory - allows the selection of the ExtraData display widget; three options are available:
  - **Combobox**: this is a dropdown menu that shows values for code/description.
  - **Autocomplete Code**: allows writing the code that will autocomplete by filtering the available records.
  - **Autocomplete Description**: allows writing the description that will autocomplete by filtering the available records.
- **Widget Type**
- **Business Object**: mandatory - allows the selection of the object on which the extradata should be created, for example, **FSColor** to create an extradata based on the **color code table**. 

#### 2.2 Activations 

We proceed to link the **ExtraData** to the business object **FSItem**.  
It is exactly as described in the previous section.  

### Inserting the ExtraData into the detail form

After opening the detail form of the relevant article, to include the ExtraData in the detail form of the article **FSItem**, we can use the **form navigator** and **the object navigator**.  
1. From the **Object Navigator**, expand the ExtraData node related to the business object and select the ExtraData we are interested in.
2. From the **Form Navigator**, expand the navigator until the General tab where we want to insert the ExtraData.  

To display the ExtraData in the detail form of the article, it is sufficient to drag and drop from the Object Navigator to the Form Navigator.  
In this example, the ExtraData 'Color' has been brought into the LayoutGroup that defines the header data of the article (FSItem).   
The ExtraData will have a combobox (dropdown) widget and will exactly show the values of **code** and **description** saved in the corresponding MSSQL table.

### **3. Datasource-based ExtraData**

Through datasource-based ExtraData, it is possible to link a Fluentis object to an external table not present in standard. 

*To better explain this application scenario, we will use a practical example where a custom table named 'typology' has been created, representing 3 different finishes.*  
Using the **FluentisQueryStudio**, we proceed to save an SQL query to select all values in the table.  

The table we created looks like this:   

| Id  | Code      | Description |
| --- | --------- | ----------- |
| 1   | Finish1 | Satin |
| 2   | Finish2 | Glossy |
| 3   | Finish3 | Matt |

and is the result of this SQL query.  

```SQL
SELECT id as Id, code as Code, description as Description FROM DBO.TYPOLOGY
```

:::danger Attention
The structure of the query must necessarily be based on the three columns: **Id**, **Code**, **Description**, otherwise it will not be possible to create the related datasource.  
:::

Using the **FluentisQueryStudio**, we proceed to create the datasource that will be based on the query viewed above. For the use of **FluentisQueryStudio**, please refer to the specific documentation at the following [**Link**](#).

#### 3.1 Header (Testata)

We now proceed to create the ExtraData by filling in the data related to the header:  
- **Code ** and **Description**.
- **DataSource Type**: select SQL Query DataSource.
- **SQL Query**: select the desired query.
- **Areaì**: dictionary value.

#### 3.2 Activations 

We proceed to link the **ExtraData** to the business object **FSItem**.  
It is exactly as described in the previous section.  

### Inserting the ExtraData into the detail form

After opening the detail form of the relevant article, to include the ExtraData in the detail form of the article (FSItem), we can use the **form navigator** and **the object navigator**.  
1. From the **Object Navigator**, expand the ExtraData node related to the business object and select the ExtraData we are interested in.
2. From the **Form Navigator**, expand the navigator until the General tab where we want to insert the ExtraData.  

To display the ExtraData in the detail form of the article, it is sufficient to drag and drop from the Object Navigator to the Form Navigator.  
The ExtraData will have a combobox (dropdown) widget and will exactly show the values of **code** and **description** saved in the corresponding table in the database.  

#### 3.3 Propagation of ExtraData

The functionality related to the propagation of ExtraData allows to **extend** a specific **ExtraData** defined on a specific object to another **derived** object.  
For example, an ExtraData defined on the **FSItem** object (Item) can be propagated to the **FSSalesOrderItem** object (Sales Order Items) because **FSSalesOrderItem** **extends** the **FSItem** class.  

#### Specific fields  
- **Property path**: mandatory - property that will link the classes.  
- **Collection property**: mandatory - the property of the collection.  
- **Editable**: makes the extradata independently editable.  
- **Priority**: indicates the priority. 
- **From validity date / To validity date**: if we want it to be temporary, thus having a start and end.  

To manage the propagation from a main object to a derived one, it is necessary to have the ExtraData active on both objects in the **Activations** tab and then manage the propagation through the appropriate **propagation** tab.

#### Inserting the ExtraData into the detail form

Dopo aver aperto la form di dettaglio dell'**ordine di vendita** interessato, per includere l'ExtraData nella form di dettaglio possiamo utilizzare il **form navigator** e **l'object navigator**.  
1. Dall'**Object Navigator**, espandiamo il nodo della collezione degli **articoli**, e quindi espandiamo il nodo ExtraData.  
2. Trasciniamo l'ExtraData direttamente sulla griglia degli articoli associati all'ordine di vendita.   
L'ExtraData avrà un widget di tipo combobox (dropdown) e mostrerà il valore **codice** salvato sulla corrispondente tabella lato MSSQL.  

### **4. Inserting ExtraData into Report**

Per quanto riguarda l'inclusione degli **ExtraData** nei report si possono configuare n. 3 scenari distinti in base alla tipologia di ExtraData:
* ExtraData Semplice.
* ExtraData basato su un oggetto.
* ExtraData basato su un datasource.

### 4.1 Simple ExtraData

For the simple ExtraData, you need to include the following method in the report script section.  
In the example, an ExtraData of object type has been associated with a sales invoice.  

```cs
private void calcExtraData_GetValue(object sender, DevExpress.XtraReports.UI.GetValueEventArgs e) {
  FSSalesInvoice row = (FSSalesInvoice)e.Row;
 if (row != null)
 {
  var extraData = row.ExtraData.Where(x => x.ExtraDataObject != null && x.ExtraDataObject.Code == "ExtradataXreport").FirstOrDefault();
  if (extraData != null)
  {
    e.Value = extraData.ExtraDataValue;
  }
 }  
}
```

### 4.2 Object-based ExtraData

For the object-based ExtraData, you need to include the following method in the report script section.  
In the example, an object-type ExtraData has been associated with a sales invoice.   

```cs
private void calcExtraData_GetValue(object sender, DevExpress.XtraReports.UI.GetValueEventArgs e)
{
    FSSalesInvoice row = (FSSalesInvoice)e.Row;
    if (row != null)
    {
        var extraData = row.ExtraData 
            .Where(x => x.ExtraDataObject != null && x.ExtraDataObject.Code == "ObjectExtraData")
            .FirstOrDefault();
        
        if (extraData != null)
        {
            var record = GetReport().DataProvider
                .Linq<FSColor>()
                .Where(x => x.Id == extraData.ExtraDataId)
                .FirstOrDefault();
            
            if (record != null)
            {
                e.Value = record.Description; 
            }
        }
    }
}
```


